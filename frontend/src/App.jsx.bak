import { useState } from "react";
import "./App.css";
import Store from "./components/Store";

function App() {
  const [view, setView] = useState("form");
  const [formData, setFormData] = useState({
    name: "",
    address: "",
    mobile: "",
    problem: "",
    solution: "",
    priority: [],
    policySuggestion: "",
    youthProgram: "",
    expectation: "",
    fiveYearPlan: "",
    extraSuggestion: "",
  });

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData({ ...formData, [name]: value });
  };

  const handleCheckbox = (e) => {
    const { value, checked } = e.target;
    let updatedPriority = [...formData.priority];

    if (checked) {
      updatedPriority.push(value);
    } else {
      updatedPriority = updatedPriority.filter((item) => item !== value);
    }

    setFormData({ ...formData, priority: updatedPriority });
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log("Form Data:", formData);
    alert("рдзрдиреНрдпрд╡рд╛рдж! рддрдкрд╛рдИрдВрдХреЛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕реБрд░рдХреНрд╖рд┐рдд рднрдпреЛред");
  };

  return (
    <div>
      <nav className="navbar navbar-expand-lg navbar-dark bg-primary">
        <div className="container-fluid">
          <a className="navbar-brand" href="#" onClick={() => setView("form")}>
            рд╡рд┐рдХрд╛рд╕ рд╕реБрдЭрд╛рд╡
          </a>
          <button
            className="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navContent"
            aria-controls="navContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span className="navbar-toggler-icon"></span>
          </button>

          <div className="collapse navbar-collapse" id="navContent">
            <ul className="navbar-nav ms-auto mb-2 mb-lg-0">
              <li className="nav-item">
                <button className={`btn btn-link nav-link ${view === "form" ? "active text-white" : "text-white"}`} onClick={() => setView("form")}>
                  Feedback Form
                </button>
              </li>
              <li className="nav-item">
                <button className={`btn btn-link nav-link ${view === "store" ? "active text-white" : "text-white"}`} onClick={() => setView("store")}>
                  Code Store
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <div className="container py-4">
        {view === "form" ? (
          <div className="card p-4">
            <h1>ЁЯЧ│я╕П рдорддрджрд╛рддрд╛рдХрд╛ рд╕реБрдЭрд╛рд╡ рд╕рдВрдХрд▓рди</h1>
            <p className="subtitle">
              рд╕рд▓реНрдпрд╛рдирдХреЛ рд╡рд┐рдХрд╛рд╕рдХрд╛ рд▓рд╛рдЧрд┐ рддрдкрд╛рдИрдВрдХрд╛ рд╕реБрдЭрд╛рд╡ рд░ рдЕрдкреЗрдХреНрд╖рд╛рд╣рд░реВ рд╣рд╛рдореАрд▓рд╛рдИ рдкрдард╛рдЙрдиреБрд╣реЛрд╕реНред
            </p>

            <form onSubmit={handleSubmit}>
              <label>рдкреВрд░рд╛ рдирд╛рдо *</label>
              <input name="name" required onChange={handleChange} />

              <label>рдареЗрдЧрд╛рдирд╛ (рдкрд╛рд▓рд┐рдХрд╛ рд░ рд╡рдбрд╛) *</label>
              <input name="address" required onChange={handleChange} />

              <label>рдореЛрдмрд╛рдЗрд▓ рдирдореНрдмрд░ *</label>
              <input name="mobile" required onChange={handleChange} />

              <label>рддрдкрд╛рдИрдВрдХреЛ рдХреНрд╖реЗрддреНрд░рдорд╛ рдореБрдЦреНрдп рд╕рдорд╕реНрдпрд╛ рдХреЗ рдЫ? *</label>
              <textarea name="problem" required onChange={handleChange} />

              <label>рд╕рдорд╛рдзрд╛рдирдХрд╛ рд▓рд╛рдЧрд┐ рд╕реБрдЭрд╛рд╡ *</label>
              <textarea name="solution" required onChange={handleChange} />

              <label>рд╡рд┐рдХрд╛рд╕ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ *</label>
              <div className="checkbox-group">
                {[
                  "рд╕рдбрдХ",
                  "рд╡рд┐рджреНрдпреБрдд рддрдерд╛ рд╕рдЮреНрдЪрд╛рд░",
                  "рд╕реНрд╡рд╛рд╕реНрдереНрдп",
                  "рд╢рд┐рдХреНрд╖рд╛",
                  "рдХреГрд╖рд┐",
                  "рдЦрд╛рдиреЗрдкрд╛рдиреА/рд╕рд┐рдВрдЪрд╛рдЗ",
                  "рдкрд░реНрдпрдЯрди/рдЦреЗрд▓рдХреВрдж",
                  "рдЙрджреНрдпреЛрдЧ/рд░реЛрдЬрдЧрд╛рд░реА",
                ].map((item) => (
                  <label key={item}>
                    <input
                      type="checkbox"
                      value={item}
                      onChange={handleCheckbox}
                    />
                    {item}
                  </label>
                ))}
              </div>

              <label>рдиреАрддрд┐рдЧрдд рд╕реБрдзрд╛рд░рдХрд╛ рд╕реБрдЭрд╛рд╡ *</label>
              <textarea name="policySuggestion" required onChange={handleChange} />

              <label>рдпреБрд╡рд╛ рд▓рдХреНрд╖рд┐рдд рдХрд╛рд░реНрдпрдХреНрд░рдо *</label>
              <textarea name="youthProgram" required onChange={handleChange} />

              <label>рдирд┐рд░реНрд╡рд╛рдЪрд┐рдд рдиреЗрддрд╛рдмрд╛рдЯ рдЕрдкреЗрдХреНрд╖рд╛ *</label>
              <textarea name="expectation" required onChange={handleChange} />

              <label>рдЖрдЧрд╛рдореА рел рд╡рд░реНрд╖рднрд┐рддреНрд░ рдЧрд░реНрдиреБрдкрд░реНрдиреЗ рдХрд╛рдо *</label>
              <textarea name="fiveYearPlan" required onChange={handleChange} />

              <label>рдердк рд╕реБрдЭрд╛рд╡ (рдЫреИрди рднрдиреЗ "рдЫреИрди") *</label>
              <textarea name="extraSuggestion" required onChange={handleChange} />

              <button type="submit" className="btn btn-primary">
                ЁЯУи рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкрдард╛рдЙрдиреБрд╣реЛрд╕реН
              </button>
            </form>
          </div>
        ) : (
          <Store />
        )}
      </div>
    </div>
  );
}

export default App;
